{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\User\\\\Desktop\\\\autenticador\\\\src\\\\components\\\\TestSupabase.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { supabase } from '../supabase';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst TestSupabase = () => {\n  _s();\n  const [logs, setLogs] = useState([]);\n  const addLog = (message, type = 'info') => {\n    setLogs(prev => [...prev, {\n      message,\n      type,\n      timestamp: new Date().toLocaleTimeString()\n    }]);\n  };\n  useEffect(() => {\n    testConnection();\n  }, []);\n  const testConnection = async () => {\n    addLog('Iniciando testes de conexão com Supabase...', 'info');\n    try {\n      // Testar conexão básica\n      const {\n        data: {\n          user\n        },\n        error: authError\n      } = await supabase.auth.getUser();\n      if (authError) {\n        addLog(`Erro de autenticação: ${authError.message}`, 'error');\n      } else {\n        addLog(`Usuário autenticado: ${(user === null || user === void 0 ? void 0 : user.email) || 'Nenhum'}`, 'success');\n      }\n\n      // Testar busca na tabela perfis\n      addLog('Buscando todos os perfis...', 'info');\n      const {\n        data: allPerfis,\n        error: allPerfisError\n      } = await supabase.from('perfis').select('*');\n      if (allPerfisError) {\n        addLog(`Erro ao buscar todos os perfis: ${allPerfisError.message}`, 'error');\n      } else {\n        addLog(`Total de perfis encontrados: ${(allPerfis === null || allPerfis === void 0 ? void 0 : allPerfis.length) || 0}`, 'success');\n        allPerfis === null || allPerfis === void 0 ? void 0 : allPerfis.forEach(perfil => {\n          addLog(`- ${perfil.nome} (${perfil.tipo})`, 'info');\n        });\n      }\n\n      // Testar busca específica de alunos\n      addLog('Buscando apenas alunos...', 'info');\n      const {\n        data: alunos,\n        error: alunosError\n      } = await supabase.from('perfis').select('*').eq('tipo', 'aluno');\n      if (alunosError) {\n        addLog(`Erro ao buscar alunos: ${alunosError.message}`, 'error');\n      } else {\n        addLog(`Total de alunos encontrados: ${(alunos === null || alunos === void 0 ? void 0 : alunos.length) || 0}`, 'success');\n        alunos === null || alunos === void 0 ? void 0 : alunos.forEach(aluno => {\n          addLog(`- ${aluno.nome} (criado em: ${aluno.created_at})`, 'info');\n        });\n      }\n\n      // Testar permissões\n      addLog('Verificando permissões RLS...', 'info');\n      const {\n        data: rlsTest,\n        error: rlsError\n      } = await supabase.from('perfis').select('id, nome, tipo').limit(1);\n      if (rlsError) {\n        addLog(`Erro de permissão RLS: ${rlsError.message}`, 'error');\n      } else {\n        addLog('Permissões RLS OK', 'success');\n      }\n    } catch (error) {\n      addLog(`Erro geral: ${error.message}`, 'error');\n    }\n  };\n  const getLogColor = type => {\n    switch (type) {\n      case 'error':\n        return 'text-red-400';\n      case 'success':\n        return 'text-green-400';\n      default:\n        return 'text-gray-300';\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"fixed bottom-4 right-4 w-96 max-h-96 bg-slate-900 border border-slate-700 rounded-lg p-4 overflow-hidden\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex justify-between items-center mb-3\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"text-white font-semibold\",\n        children: \"Teste Supabase\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: testConnection,\n        className: \"px-3 py-1 bg-blue-600 hover:bg-blue-700 text-white text-sm rounded\",\n        children: \"Testar Novamente\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"overflow-y-auto max-h-80 space-y-1\",\n      children: logs.map((log, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `text-xs ${getLogColor(log.type)}`,\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-gray-500\",\n          children: [\"[\", log.timestamp, \"]\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 13\n        }, this), \" \", log.message]\n      }, index, true, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 85,\n    columnNumber: 5\n  }, this);\n};\n_s(TestSupabase, \"6h9FKNtuyCQaVwwdLqmS9omOzEQ=\");\n_c = TestSupabase;\nexport default TestSupabase;\nvar _c;\n$RefreshReg$(_c, \"TestSupabase\");","map":{"version":3,"names":["React","useEffect","useState","supabase","jsxDEV","_jsxDEV","TestSupabase","_s","logs","setLogs","addLog","message","type","prev","timestamp","Date","toLocaleTimeString","testConnection","data","user","error","authError","auth","getUser","email","allPerfis","allPerfisError","from","select","length","forEach","perfil","nome","tipo","alunos","alunosError","eq","aluno","created_at","rlsTest","rlsError","limit","getLogColor","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","map","log","index","_c","$RefreshReg$"],"sources":["C:/Users/User/Desktop/autenticador/src/components/TestSupabase.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { supabase } from '../supabase';\n\nconst TestSupabase = () => {\n  const [logs, setLogs] = useState([]);\n\n  const addLog = (message, type = 'info') => {\n    setLogs(prev => [...prev, { message, type, timestamp: new Date().toLocaleTimeString() }]);\n  };\n\n  useEffect(() => {\n    testConnection();\n  }, []);\n\n  const testConnection = async () => {\n    addLog('Iniciando testes de conexão com Supabase...', 'info');\n    \n    try {\n      // Testar conexão básica\n      const { data: { user }, error: authError } = await supabase.auth.getUser();\n      if (authError) {\n        addLog(`Erro de autenticação: ${authError.message}`, 'error');\n      } else {\n        addLog(`Usuário autenticado: ${user?.email || 'Nenhum'}`, 'success');\n      }\n\n      // Testar busca na tabela perfis\n      addLog('Buscando todos os perfis...', 'info');\n      const { data: allPerfis, error: allPerfisError } = await supabase\n        .from('perfis')\n        .select('*');\n\n      if (allPerfisError) {\n        addLog(`Erro ao buscar todos os perfis: ${allPerfisError.message}`, 'error');\n      } else {\n        addLog(`Total de perfis encontrados: ${allPerfis?.length || 0}`, 'success');\n        allPerfis?.forEach(perfil => {\n          addLog(`- ${perfil.nome} (${perfil.tipo})`, 'info');\n        });\n      }\n\n      // Testar busca específica de alunos\n      addLog('Buscando apenas alunos...', 'info');\n      const { data: alunos, error: alunosError } = await supabase\n        .from('perfis')\n        .select('*')\n        .eq('tipo', 'aluno');\n\n      if (alunosError) {\n        addLog(`Erro ao buscar alunos: ${alunosError.message}`, 'error');\n      } else {\n        addLog(`Total de alunos encontrados: ${alunos?.length || 0}`, 'success');\n        alunos?.forEach(aluno => {\n          addLog(`- ${aluno.nome} (criado em: ${aluno.created_at})`, 'info');\n        });\n      }\n\n      // Testar permissões\n      addLog('Verificando permissões RLS...', 'info');\n      const { data: rlsTest, error: rlsError } = await supabase\n        .from('perfis')\n        .select('id, nome, tipo')\n        .limit(1);\n\n      if (rlsError) {\n        addLog(`Erro de permissão RLS: ${rlsError.message}`, 'error');\n      } else {\n        addLog('Permissões RLS OK', 'success');\n      }\n\n    } catch (error) {\n      addLog(`Erro geral: ${error.message}`, 'error');\n    }\n  };\n\n  const getLogColor = (type) => {\n    switch (type) {\n      case 'error': return 'text-red-400';\n      case 'success': return 'text-green-400';\n      default: return 'text-gray-300';\n    }\n  };\n\n  return (\n    <div className=\"fixed bottom-4 right-4 w-96 max-h-96 bg-slate-900 border border-slate-700 rounded-lg p-4 overflow-hidden\">\n      <div className=\"flex justify-between items-center mb-3\">\n        <h3 className=\"text-white font-semibold\">Teste Supabase</h3>\n        <button\n          onClick={testConnection}\n          className=\"px-3 py-1 bg-blue-600 hover:bg-blue-700 text-white text-sm rounded\"\n        >\n          Testar Novamente\n        </button>\n      </div>\n      <div className=\"overflow-y-auto max-h-80 space-y-1\">\n        {logs.map((log, index) => (\n          <div key={index} className={`text-xs ${getLogColor(log.type)}`}>\n            <span className=\"text-gray-500\">[{log.timestamp}]</span> {log.message}\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n};\n\nexport default TestSupabase;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}